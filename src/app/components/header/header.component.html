<header class="header">
  <div class="container">

    <!-- Desktop Navigation -->
    <nav class="nav-desktop">
      <ul class="nav-list">
        <li *ngFor="let item of getNavigationItems()">
          <a [routerLink]="item.path" 
             class="nav-link" 
             [class.active]="isActiveRoute(item.path)">
            {{ item.label }}
          </a>
        </li>
      </ul>
    </nav>

    <!-- Language Switcher -->
    <div class="language-switcher" role="group" aria-label="Language switcher">
      <div class="lang-segmented">
        <button
          type="button"
          class="lang-btn"
          [class.active]="translationService.getCurrentLanguage() === 'pl'"
          [attr.aria-pressed]="translationService.getCurrentLanguage() === 'pl'"
          (click)="switchLanguage('pl')">PL</button>

        <button
          type="button"
          class="lang-btn"
          [class.active]="translationService.getCurrentLanguage() === 'en'"
          [attr.aria-pressed]="translationService.getCurrentLanguage() === 'en'"
          (click)="switchLanguage('en')">EN</button>

        <button
          type="button"
          class="lang-btn"
          [class.active]="translationService.getCurrentLanguage() === 'it'"
          [attr.aria-pressed]="translationService.getCurrentLanguage() === 'it'"
          (click)="switchLanguage('it')">IT</button>
      </div>
    </div>

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" 
            (click)="toggleMenu()" 
            [class.open]="isMenuOpen()" 
            aria-label="Toggle menu" 
            [attr.aria-expanded]="isMenuOpen()">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <!-- Mobile Navigation -->
  <nav class="nav-mobile" [class.open]="isMenuOpen()">
    <ul class="nav-list-mobile">
      <li *ngFor="let item of getNavigationItems()">
        <a [routerLink]="item.path" 
           class="nav-link-mobile" 
           [class.active]="isActiveRoute(item.path)" 
           (click)="closeMenu()">
          {{ item.label }}
        </a>
      </li>
    </ul>

    <div class="mobile-language-switcher">
      <div class="lang-divider" aria-hidden="true"></div>

      <div class="lang-segmented" role="group" aria-label="Language switcher">
        <button
          type="button"
          class="lang-segment"
          [class.active]="translationService.getCurrentLanguage() === 'pl'"
          (click)="switchLanguage('pl')"
          [attr.aria-pressed]="translationService.getCurrentLanguage() === 'pl'"
          aria-label="Polski">PL</button>

        <button
          type="button"
          class="lang-segment"
          [class.active]="translationService.getCurrentLanguage() === 'en'"
          (click)="switchLanguage('en')"
          [attr.aria-pressed]="translationService.getCurrentLanguage() === 'en'"
          aria-label="English">EN</button>

        <button
          type="button"
          class="lang-segment"
          [class.active]="translationService.getCurrentLanguage() === 'it'"
          (click)="switchLanguage('it')"
          [attr.aria-pressed]="translationService.getCurrentLanguage() === 'it'"
          aria-label="Italiano">IT</button>
      </div>
    </div>
  </nav>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-overlay" 
       [class.open]="isMenuOpen()" 
       (click)="closeMenu()"></div>
</header>
