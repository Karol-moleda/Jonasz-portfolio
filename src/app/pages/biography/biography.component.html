<section class="biography-page" *ngIf="biography() as bio">
  <div class="container">
    <!-- Hero Section -->
    <div class="biography-hero">
      <h1 class="page-title">{{ getLocalizedTitle() }}</h1>
      <div class="hero-image" *ngIf="bio.heroImage">
        <img
          [src]="bio.heroImage.asset.url"
          [alt]="bio.heroImage.alt || 'Biografia - portret'"
          class="hero-image__content"
        />
      </div>
    </div>

    <!-- Biography Content -->
    <div class="biography-content">
      <div class="grid grid-2">

        <div class="biography-images">
          <div class="sections-tabs" *ngIf="bio.sections?.length">
            <div class="tabs-headers" role="tablist">
              <button
                class="tab"
                type="button"
                *ngFor="let section of bio.sections | slice:0:5; let i = index"
                [class.active]="activeTab() === i"
                (click)="setActive(i)"
                role="tab"
                [attr.aria-selected]="activeTab() === i"
              >
                <span class="tab-icon" aria-hidden="true"><i [ngClass]="$any(section).icon || 'fas fa-book'"></i></span>
                <span class="tab-label">{{ getLocalizedHeading(section) }}</span>
              </button>
            </div>

            <div class="tabs-panels">
              <ng-container *ngFor="let section of bio.sections | slice:0:5; let i = index">
                <div
                  class="tab-panel"
                  *ngIf="activeTab() === i"
                  role="tabpanel"
                >
                  <h3 class="panel-title">{{ getLocalizedHeading(section) }}</h3>
                  <div class="panel-content" [innerHTML]="sectionHtml(section)"></div>
                  <a class="panel-cta" *ngIf="$any(section).link" [href]="$any(section).link" target="_blank" rel="noopener">Czytaj wiÄ™cej</a>
                </div>
              </ng-container>
            </div>

          </div>
         </div>
      </div>
    </div>

    <!-- Timeline Section - Droga artystyczna -->
    <div class="timeline-section" *ngIf="bio.timeline?.length">
      <h2 class="section-title">{{ getArtisticJourneyTitle() }}</h2>
      <div class="timeline">
        <div class="timeline-item" *ngFor="let item of bio.timeline">
          <div class="timeline-date">{{ item.year }}</div>
          <div class="timeline-content">
            <h3 *ngIf="getLocalizedTimelineEvent(item)">{{ getLocalizedTimelineEvent(item) }}</h3>
            <p class="timeline-description">
              <span *ngIf="getLocalizedTimelineLocation(item)" class="location">
                {{ getLocalizedTimelineLocation(item) }}
              </span>
              <span *ngIf="getLocalizedTimelineAchievement(item)" class="achievement-highlight">
                {{ getLocalizedTimelineAchievement(item) }}
              </span>
            </p>
            <p *ngIf="getLocalizedTimelineDetails(item)" class="timeline-details">
              {{ getLocalizedTimelineDetails(item) }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
